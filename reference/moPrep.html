<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Prepare Multiple Overimputation Settings — moPrep • Amelia</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Prepare Multiple Overimputation Settings — moPrep"><meta property="og:description" content="A function to generate priors for multiple overimputation of
 a variable measured with error."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Amelia</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.8.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/intro-mi.html">Introduction to Multiple Imputation</a>
    </li>
    <li>
      <a href="../articles/using-amelia.html">Using Amelia</a>
    </li>
    <li>
      <a href="../articles/diagnostics.html">Multiple Imputation Diagnostics</a>
    </li>
    <li>
      <a href="../articles/ameliaview.html">AmeliaView GUI Guide</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Prepare Multiple Overimputation Settings</h1>

    <div class="hidden name"><code>moPrep.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>A function to generate priors for multiple overimputation of
 a variable measured with error.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">moPrep</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">formula</span>,</span>
<span>  <span class="va">subset</span>,</span>
<span>  <span class="va">error.proportion</span>,</span>
<span>  gold.standard <span class="op">=</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">subset</span><span class="op">)</span>,</span>
<span>  <span class="va">error.sd</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'molist'</span></span>
<span><span class="fu">moPrep</span><span class="op">(</span><span class="va">x</span>, <span class="va">formula</span>, <span class="va">subset</span>, <span class="va">error.proportion</span>, gold.standard <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">error.sd</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Default S3 method</span></span>
<span><span class="fu">moPrep</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">formula</span>,</span>
<span>  <span class="va">subset</span>,</span>
<span>  <span class="va">error.proportion</span>,</span>
<span>  gold.standard <span class="op">=</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">subset</span><span class="op">)</span>,</span>
<span>  <span class="va">error.sd</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>either a matrix, data.frame, or a object of class "molist"
from a previous <code>moPrep</code> call. The first two derive the priors
from the data given, and the third will derive the priors from the
first <code>moPrep</code> call and add them to the already defined
priors.</p></dd>


<dt id="arg-formula">formula<a class="anchor" aria-label="anchor" href="#arg-formula"></a></dt>
<dd><p>a formula describing the nature of the measurement
error for the variable. See "Details."</p></dd>


<dt id="arg-subset">subset<a class="anchor" aria-label="anchor" href="#arg-subset"></a></dt>
<dd><p>an optional vector specifying a subset of observations
which possess measurement error.</p></dd>


<dt id="arg-error-proportion">error.proportion<a class="anchor" aria-label="anchor" href="#arg-error-proportion"></a></dt>
<dd><p>an optional vector specifying the fraction of
the observed variance that is due to measurement error.</p></dd>


<dt id="arg-gold-standard">gold.standard<a class="anchor" aria-label="anchor" href="#arg-gold-standard"></a></dt>
<dd><p>a logical value indicating if values with no
measurement error should be used to estimate the measurement error
variance.</p></dd>


<dt id="arg-error-sd">error.sd<a class="anchor" aria-label="anchor" href="#arg-error-sd"></a></dt>
<dd><p>an optional vector specifying the standard error of
the measurement error.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>An instance of the S3 class "molist" with the following
  objects:</p><ul><li><p>priors a four-column matrix of the multiple overimputation priors
   associated with the data. Each row of the matrix is
  <code>c(row,column, prior.mean, prior.sd)</code></p></li>
<li><p>overimp a two-column matrix of cells to be overimputed. Each
   row of the matrix is of the form <code>c(row, column)</code>, which
   indicate the row and column of the cell to be overimputed.</p></li>
<li><p>data the object name of the matrix or data.frame to which
   priors refer.</p></li>
</ul><p>Note that <code>priors</code> and <code>overimp</code> might contain results from
 multiple calls to <code>moPrep</code>, not just the most recent.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>This function generates priors for multiple overimputation of data
 measured with error. With the <code>formula</code> arugment, you can specify
 which variable has the error, what the mean of the latent data is, and
 if there are any other proxy measures of the mismeasured variable. The
 general syntax for the formula is: <code>errvar ~ mean | proxy</code>,
 where <code>errvar</code> is the mismeasured variable, <code>mean</code> is a
 formula for the mean of the latent variable (usually just
                                              <code>errvar</code> itself), and <code>proxy</code> is a another mismeasurement of
 the same latent variable. The proxies are used to estimate the
 variance of the measurement error.</p>
<p><code>subset</code> and <code>gold.standard</code> refer to the the rows of the
 data which are and are not measured with error. Gold-standard rows are
 used to estimate the variance of the
 measurement. error. <code>error.proportion</code> is used to estimate the
 variance of the measurement error by estimating the variance of the
 mismeasurement and taking the proportion assumed to be due to
 error. <code>error.sd</code> sets the standard error of the measurement
 error directly.</p>
    </div>
    <div id="methods-by-class-">
    <h2>Methods (by class)</h2>

<ul><li><p><code>moPrep(molist)</code>: Alter existing moPrep output</p></li>
<li><p><code>moPrep(default)</code>: Default call to moPrep</p></li>
</ul></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="amelia.html">amelia</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span> <span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">africa</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="va">m.out</span> <span class="op">&lt;-</span> <span class="fu">moPrep</span><span class="op">(</span><span class="va">africa</span>, <span class="va">trade</span> <span class="op">~</span> <span class="va">trade</span>, error.proportion <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="va">a.out</span> <span class="op">&lt;-</span> <span class="fu"><a href="amelia.html">amelia</a></span><span class="op">(</span><span class="va">m.out</span>, ts <span class="op">=</span> <span class="st">"year"</span>, cs <span class="op">=</span> <span class="st">"country"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -- Imputation 1 --</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -- Imputation 2 --</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  41 42 43 44 45 46 47 48</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -- Imputation 3 --</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  41 42 43 44 45 46 47</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -- Imputation 4 --</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  21 22 23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -- Imputation 5 --</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  21 22 23 24 25 26 27 28 29 30 31</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">a.out</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="moPrep-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span> <span class="va">m.out</span> <span class="op">&lt;-</span> <span class="fu">moPrep</span><span class="op">(</span><span class="va">africa</span>, <span class="va">trade</span> <span class="op">~</span> <span class="va">trade</span>, error.sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="va">a.out</span> <span class="op">&lt;-</span> <span class="fu"><a href="amelia.html">amelia</a></span><span class="op">(</span><span class="va">m.out</span>, ts <span class="op">=</span> <span class="st">"year"</span>, cs <span class="op">=</span> <span class="st">"country"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -- Imputation 1 --</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1  2  3  4  5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -- Imputation 2 --</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1  2  3  4  5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -- Imputation 3 --</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1  2  3  4  5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -- Imputation 4 --</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1  2  3  4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -- Imputation 5 --</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1  2  3  4  5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://hona.kr" class="external-link">James Honaker</a>, <a href="https://gking.harvard.edu" class="external-link">Gary King</a>, <a href="https://www.mattblackwell.org" class="external-link">Matthew Blackwell</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

