<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Prepare Multiple Overimputation Settings — moPrep • Amelia</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Prepare Multiple Overimputation Settings — moPrep" />
<meta property="og:description" content="A function to generate priors for multiple overimputation of
 a variable measured with error." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Amelia</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.8.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/intro-mi.html">Introduction to Multiple Imputation</a>
    </li>
    <li>
      <a href="../articles/using-amelia.html">Using Amelia</a>
    </li>
    <li>
      <a href="../articles/diagnostics.html">Multiple Imputation Diagnostics</a>
    </li>
    <li>
      <a href="../articles/ameliaview.html">AmeliaView GUI Guide</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Prepare Multiple Overimputation Settings</h1>
    
    <div class="hidden name"><code>moPrep.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>A function to generate priors for multiple overimputation of
 a variable measured with error.</p>
    </div>

    <pre class="usage"><span class='fu'>moPrep</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>formula</span>, <span class='va'>subset</span>, <span class='va'>error.proportion</span>,
  gold.standard <span class='op'>=</span> <span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/missing.html'>missing</a></span><span class='op'>(</span><span class='va'>subset</span><span class='op'>)</span>, <span class='va'>error.sd</span><span class='op'>)</span>

<span class='co'># S3 method for molist</span>
<span class='fu'>moPrep</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>formula</span>, <span class='va'>subset</span>, <span class='va'>error.proportion</span>,
  gold.standard <span class='op'>=</span> <span class='cn'>FALSE</span>, <span class='va'>error.sd</span><span class='op'>)</span>

<span class='co'># S3 method for default</span>
<span class='fu'>moPrep</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>formula</span>, <span class='va'>subset</span>, <span class='va'>error.proportion</span>,
  gold.standard <span class='op'>=</span> <span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/missing.html'>missing</a></span><span class='op'>(</span><span class='va'>subset</span><span class='op'>)</span>, <span class='va'>error.sd</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>either a matrix, data.frame, or a object of class "molist"
from a previous <code>moPrep</code> call. The first two derive the priors
from the data given, and the third will derive the priors from the
first <code>moPrep</code> call and add them to the already defined
priors.</p></td>
    </tr>
    <tr>
      <th>formula</th>
      <td><p>a formula describing the nature of the measurement
error for the variable. See "Details."</p></td>
    </tr>
    <tr>
      <th>subset</th>
      <td><p>an optional vector specifying a subset of observations
which possess measurement error.</p></td>
    </tr>
    <tr>
      <th>error.proportion</th>
      <td><p>an optional vector specifying the fraction of
the observed variance that is due to measurement error.</p></td>
    </tr>
    <tr>
      <th>gold.standard</th>
      <td><p>a logical value indicating if values with no
measurement error should be used to estimate the measurement error
variance.</p></td>
    </tr>
    <tr>
      <th>error.sd</th>
      <td><p>an optional vector specifying the standard error of
the measurement error.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An instance of the S3 class "molist" with the following
  objects:</p><ul>
<li><p>priors a four-column matrix of the multiple overimputation priors
   associated with the data. Each row of the matrix is
  <code><a href='https://rdrr.io/r/base/c.html'>c(row,column, prior.mean, prior.sd)</a></code></p></li>
<li><p>overimp a two-column matrix of cells to be overimputed. Each
   row of the matrix is of the form <code><a href='https://rdrr.io/r/base/c.html'>c(row, column)</a></code>, which
   indicate the row and column of the cell to be overimputed.</p></li>
<li><p>data the object name of the matrix or data.frame to which
   priors refer.</p></li>
</ul>

<p>Note that <code>priors</code> and <code>overimp</code> might contain results from
 multiple calls to <code>moPrep</code>, not just the most recent.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function generates priors for multiple overimputation of data
 measured with error. With the <code>formula</code> arugment, you can specify
 which variable has the error, what the mean of the latent data is, and
 if there are any other proxy measures of the mismeasured variable. The
 general syntax for the formula is: <code>errvar ~ mean | proxy</code>,
 where <code>errvar</code> is the mismeasured variable, <code>mean</code> is a
 formula for the mean of the latent variable (usually just
                                              <code>errvar</code> itself), and <code>proxy</code> is a another mismeasurement of
 the same latent variable. The proxies are used to estimate the
 variance of the measurement error.</p>
<p><code>subset</code> and <code>gold.standard</code> refer to the the rows of the
 data which are and are not measured with error. Gold-standard rows are
 used to estimate the variance of the
 measurement. error. <code>error.proportion</code> is used to estimate the
 variance of the measurement error by estimating the variance of the
 mismeasurement and taking the proportion assumed to be due to
 error. <code>error.sd</code> sets the standard error of the measurement
 error directly.</p>
    <h2 class="hasAnchor" id="methods-by-class-"><a class="anchor" href="#methods-by-class-"></a>Methods (by class)</h2>

    
<ul>
<li><p><code>molist</code>: Alter existing moPrep output</p></li>
<li><p><code>default</code>: Default call to moPrep</p></li>
</ul>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='amelia.html'>amelia</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'> <span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>africa</span><span class='op'>)</span>
 <span class='va'>m.out</span> <span class='op'>&lt;-</span> <span class='fu'>moPrep</span><span class='op'>(</span><span class='va'>africa</span>, <span class='va'>trade</span> <span class='op'>~</span> <span class='va'>trade</span>, error.proportion <span class='op'>=</span> <span class='fl'>0.1</span><span class='op'>)</span>
 <span class='va'>a.out</span> <span class='op'>&lt;-</span> <span class='fu'><a href='amelia.html'>amelia</a></span><span class='op'>(</span><span class='va'>m.out</span>, ts <span class='op'>=</span> <span class='st'>"year"</span>, cs <span class='op'>=</span> <span class='st'>"country"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; -- Imputation 1 --
#&gt; 
#&gt;   1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20
#&gt;  21 22 23 24
#&gt; 
#&gt; -- Imputation 2 --
#&gt; 
#&gt;   1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20
#&gt;  21 22 23 24 25 26 27 28 29 30 31 32 33
#&gt; 
#&gt; -- Imputation 3 --
#&gt; 
#&gt;   1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20
#&gt;  21 22 23 24 25 26
#&gt; 
#&gt; -- Imputation 4 --
#&gt; 
#&gt;   1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20
#&gt;  21 22 23 24 25 26 27
#&gt; 
#&gt; -- Imputation 5 --
#&gt; 
#&gt;   1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20
#&gt;  21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37
#&gt; </div><div class='input'> <span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>a.out</span><span class='op'>)</span>
</div><div class='img'><img src='moPrep-1.png' alt='' width='700' height='433' /></div><div class='input'> <span class='va'>m.out</span> <span class='op'>&lt;-</span> <span class='fu'>moPrep</span><span class='op'>(</span><span class='va'>africa</span>, <span class='va'>trade</span> <span class='op'>~</span> <span class='va'>trade</span>, error.sd <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>
 <span class='va'>a.out</span> <span class='op'>&lt;-</span> <span class='fu'><a href='amelia.html'>amelia</a></span><span class='op'>(</span><span class='va'>m.out</span>, ts <span class='op'>=</span> <span class='st'>"year"</span>, cs <span class='op'>=</span> <span class='st'>"country"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; -- Imputation 1 --
#&gt; 
#&gt;   1  2  3  4  5
#&gt; 
#&gt; -- Imputation 2 --
#&gt; 
#&gt;   1  2  3  4  5
#&gt; 
#&gt; -- Imputation 3 --
#&gt; 
#&gt;   1  2  3  4  5
#&gt; 
#&gt; -- Imputation 4 --
#&gt; 
#&gt;   1  2  3  4
#&gt; 
#&gt; -- Imputation 5 --
#&gt; 
#&gt;   1  2  3  4  5
#&gt; </div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://hona.kr'>James Honaker</a>, <a href='https://gking.harvard.edu'>Gary King</a>, <a href='https://www.mattblackwell.org'>Matthew Blackwell</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


